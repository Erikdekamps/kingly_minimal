{#
/**
 * @file
 * Component template for a single accordion item.
 *
 * This component renders the `heading` and `content` from props instead
 * of slots for a cleaner data flow from Drupal. An inner wrapper has been
 * added to the content area to facilitate smooth CSS animations.
 *
 * @see kingly_minimal/components/accordion-item/accordion-item.component.yml
 *
 * @props
 * - heading: The content for the clickable <summary> element.
 * - content: The collapsible content.
 * - attributes: A Drupal attributes object for the <details> element.
 * - is_open: A boolean to control if the item is open by default.
 */
#}
<details{{ attributes.addClass('accordion-item') }}{{ is_open ? ' open' }}>
  <summary class="accordion-item__header">
    <span class="accordion-item__heading">{{ heading }}</span>
    <span class="accordion-item__icon">
      {# The icon is purely decorative as the open/closed state is conveyed
         by the <details> element's `open` attribute. #}
      {{ include('kingly_minimal:icon', { name: 'chevron-down', 'attributes': create_attribute().setAttribute('aria-hidden', 'true') }, with_context = false) }}
    </span>
  </summary>
  <div class="accordion-item__content">
    {# This inner wrapper is essential for the grid-template-rows animation. #}
    <div class="accordion-item__content-inner">
      {#
      Delegate rendering of the main content to the Text component.
      This ensures consistent WYSIWYG styling.
      #}
      {{ include('kingly_minimal:text', {
        content: content,
        attributes: create_attribute().addClass('accordion-item__body')
      }, with_context = false) }}
    </div>
  </div>
</details>
