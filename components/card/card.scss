// -----------------------------------------------------------------------------
// Card Component Styles
// -----------------------------------------------------------------------------
[data-component-id='kingly_minimal:card'] {
  // --- Tier 3: Component-Scoped Design Tokens ---
  --card-bg-color: #ffffff;
  --card-border-width: 1px;
  --card-border-color: #e1e1e1;
  --card-border-radius: 0.25rem;
  --card-box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
  --card-content-padding: 1rem;
  --card-content-gap: 1rem;
  --card-main-gap: 0.5rem;
  --card-focus-ring-width: 2px;
  --card-focus-ring-offset: 2px;
  --card-focus-ring-color: #004a94;
  --card-horizontal-image-ratio: 1fr;
  --card-horizontal-content-ratio: 1.5fr;

  // --- CTA (Button) Variables ---
  --card-cta-padding-y: 0.5rem;
  --card-cta-padding-x: 1rem;
  --card-cta-bg-color: #004a94;
  --card-cta-bg-color-hover: #003b76;
  --card-cta-text-color: #ffffff;
  --card-cta-border-radius: 0.25rem;
  --card-cta-font-weight: 600;
  --card-cta-transition-duration: 0.2s;
  --_transition-timing-function: ease-in-out; // Internal use

  // --- Base Card Styles ---
  display: block;
  text-decoration: none;
  color: inherit;
  background-color: var(--card-bg-color);
  border: var(--card-border-width) solid var(--card-border-color);
  border-radius: var(--card-border-radius);
  box-shadow: var(--card-box-shadow);
  overflow: hidden;
  height: 100%;

  .card__cta {
    transition: background-color var(--card-cta-transition-duration) var(--_transition-timing-function);
  }

  // --- Hover & Focus States ---
  &:hover .card__cta {
    background-color: var(--card-cta-bg-color-hover);
  }

  &:focus-visible {
    outline: var(--card-focus-ring-width) solid var(--card-focus-ring-color);
    outline-offset: var(--card-focus-ring-offset);
  }

  // --- Layout ---
  .card__wrapper {
    display: grid;
    height: 100%;
  }

  &.card--vertical .card__wrapper {
    grid-template-rows: auto 1fr; // Image | Main-and-CTA wrapper
  }

  &.card--horizontal .card__wrapper {
    grid-template-rows: auto 1fr; // Stacks on mobile
  }

  @media (min-width: 768px) { // md breakpoint
    &.card--horizontal .card__wrapper {
      grid-template-rows: 1fr;
      grid-template-columns: var(--card-horizontal-image-ratio) var(--card-horizontal-content-ratio);

      .card__image {
        height: 100%;

        .image-component,
        img,
        picture {
          height: 100%;
          object-fit: cover;
        }
      }
    }
  }

  .card__main-and-cta {
    display: grid;
    grid-template-rows: 1fr auto;
    padding: var(--card-content-padding);
    gap: var(--card-content-gap);
  }

  .card__main {
    display: grid;
    gap: var(--card-main-gap);
    align-content: start;
  }

  .card__title {
    // Styles handled by the `heading` component.
  }

  .card__cta {
    display: block;
    padding: var(--card-cta-padding-y) var(--card-cta-padding-x);
    background-color: var(--card-cta-bg-color);
    color: var(--card-cta-text-color);
    border-radius: var(--card-cta-border-radius);
    text-align: center;
    font-weight: var(--card-cta-font-weight);
    text-decoration: none;
  }
}

// --- Dark Mode Overrides ---
html[data-theme="dark"] [data-component-id='kingly_minimal:card'] {
  --card-bg-color: #121212;
  --card-border-color: #333333;
  --card-focus-ring-color: #74c0fc;
  --card-cta-bg-color: #74c0fc;
  --card-cta-bg-color-hover: #a5d8ff;
  --card-cta-text-color: #121212;
}
