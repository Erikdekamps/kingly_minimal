// components/details/details.scss

// -----------------------------------------------------------------------------
// Details Component Styles
// -----------------------------------------------------------------------------

// Scope all styles to the details component.
[data-component-id='kingly_minimal:details'] {
  border: var(--border-width) solid var(--color-border);
  border-radius: var(--border-radius);
  margin-bottom: var(--spacing-md);

  // The <summary> element that acts as the controller.
  .details__summary {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    padding: var(--spacing-sm) var(--spacing-md);
    font-weight: 600;
    cursor: pointer;
    list-style: none; // Remove the default browser marker.
    background-color: var(--color-light-gray);

    // Give the summary a clear focus state.
    &:focus-visible {
      outline: 2px solid var(--color-primary);
      outline-offset: 2px;
    }
  }

  // The text of the summary.
  .details__summary-text {
    flex-grow: 1; // Allow the text to take up available space.
  }

  // The custom marker (our SVG icon).
  .details__marker {
    display: inline-flex;
    transition: transform 0.2s ease-in-out;
    transform: rotate(90deg); // Point down when closed.
  }

  // The content area inside the details element.
  .details__content {
    padding: var(--spacing-md);
    border-top: var(--border-width) solid var(--color-border);
  }

  // State changes when the <details> element is open.
  &[open] {
    > .details__summary {
      border-bottom: var(--border-width) solid var(--color-border);

      .details__marker {
        transform: rotate(-90deg); // Point up when open.
      }
    }
  }

  // Error state for forms.
  &.has-error > .details__summary {
    background-color: var(--color-error);
    color: var(--color-error-text);
  }

  // Required marker for forms.
  .required-marker {
    color: var(--color-error-text);
  }
}
