{#
/**
 * @file
 * Component template for a titled list of links in the footer.
 *
 * This component now uses the new `list`, `list-item`, and `link` SDCs for
 * maximum consistency and reusability.
 *
 * @see kingly_minimal/components/footer-link-list/footer-link-list.component.yml
 *
 * @props
 * - title: (String) The heading for the list of links.
 * - links: (Array) An array of link objects, each with 'text', 'url', and optional 'aria_label'.
 * - attributes: (Object) A Drupal attributes object for the wrapper.
 */
#}
{% embed 'kingly_minimal:footer-widget' with {
  title: title,
  attributes: attributes.addClass('footer-link-list')
} %}
  {% block content %}
    {% if links %}
      {% embed 'kingly_minimal:list' with {
        attributes: create_attribute().addClass('footer-link-list__list')
      } %}
        {% block content %}
          {% for link_item in links %}
            {% embed 'kingly_minimal:list-item' with {
              attributes: create_attribute().addClass('footer-link-list__item')
            } %}
              {% block content %}
                {# WCAG 2.4.9: Add aria-label if provided to distinguish ambiguous links. #}
                {% set link_attributes = create_attribute().addClass('footer-link-list__link') %}
                {% if link_item.aria_label %}
                  {% do link_attributes.setAttribute('aria-label', link_item.aria_label) %}
                {% endif %}

                {{ include('kingly_minimal:link', {
                  text: link_item.text,
                  url: link_item.url,
                  attributes: link_attributes,
                }, with_context=false) }}
              {% endblock %}
            {% endembed %}
          {% endfor %}
        {% endblock %}
      {% endembed %}
    {% endif %}
  {% endblock %}
{% endembed %}
