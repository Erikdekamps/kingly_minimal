// kingly_minimal/components/local-tasks/local-tasks.scss

// -----------------------------------------------------------------------------
// Local Tasks (Tabs) Component Styles
// -----------------------------------------------------------------------------
[data-component-id='kingly_minimal:local-tasks'] {
  // Add space between primary and secondary tab groups if both are present.
  > *:not(:last-child) {
    margin-bottom: var(--spacing-sm);
  }

  // --- List Styling ---
  // Targets both primary and secondary <ul> elements.
  .tabs {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    margin: 0;
    padding: 0;
    // The bottom border on the container creates the "track" that the tabs sit on.
    border-bottom: var(--border-width-thin) solid var(--color-border);
  }

  // --- Link (Tab) Styling ---
  // The `tabs__link` class is added by our menu-local-task.html.twig override.
  .tabs__link {
    display: block;
    padding: var(--spacing-sm) var(--spacing-md);
    // The negative margin aligns the tab's active border over the container's border.
    margin-bottom: calc(-1 * var(--border-width-thin));
    // Reserve space for the active/hover border to prevent layout shifts.
    border-bottom: var(--border-width-medium) solid transparent;
    text-decoration: none;
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
    transition: border-color var(--transition-duration-fast) var(--transition-timing-function),
    color var(--transition-duration-fast) var(--transition-timing-function);

    &:hover {
      color: var(--color-primary);
    }

    &:focus-visible {
      outline: var(--focus-ring-width) solid var(--focus-ring-color);
      outline-offset: var(--focus-ring-offset);
      border-radius: var(--border-radius);
      z-index: 1; // Ensure the outline is not clipped by other tabs.
    }
  }

  // --- Active Tab Styling ---
  // The .is-active class is on the <a> tag itself.
  .tabs__link.is-active {
    color: var(--color-primary);
    font-weight: var(--font-weight-semibold);
    border-bottom-color: var(--color-primary);
  }

  // --- Secondary Tabs ---
  // De-emphasize the secondary tabs.
  .tabs--secondary {
    .tabs__link {
      font-size: var(--font-size-sm);
      padding: var(--spacing-xs) var(--spacing-sm);
    }
  }
}
