[data-component-id='kingly_minimal:testimonial'] {
  // --- Tier 3: Component-Scoped Design Tokens ---
  --testimonial-gap: 1rem;
  --testimonial-padding: 1rem;
  --testimonial-bg-color: #ffffff;
  --testimonial-border-width: 1px;
  --testimonial-border-color: #e1e1e1;
  --testimonial-border-radius: 0.25rem;
  --testimonial-box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
  --testimonial-image-size: 80px;
  --testimonial-image-border-radius: 50%;
  --testimonial-content-gap: 1rem;
  --testimonial-quote-font-size: 1rem;
  --testimonial-footer-font-size: 0.875rem;
  --testimonial-author-title-color: rgba(34, 34, 34, 0.7); // color-mix fallback
  --testimonial-date-margin-top: 0.25rem;
  --testimonial-date-font-size: 0.8em;
  --testimonial-date-color: rgba(34, 34, 34, 0.6); // color-mix fallback

  // --- Star Rating Variables ---
  --star-size: 1.25rem;
  --star-inactive-color: #e1e1e1;
  --star-active-color: #f59e0b;
  --star-letter-spacing: 0.2rem;

  display: grid;
  gap: var(--testimonial-gap);
  padding: var(--testimonial-padding);
  background-color: var(--testimonial-bg-color);
  border: var(--testimonial-border-width) solid var(--testimonial-border-color);
  border-radius: var(--testimonial-border-radius);
  box-shadow: var(--testimonial-box-shadow);

  // --- Mobile Layout ---
  grid-template-columns: 1fr;
  text-align: center;

  // --- Tablet & Desktop Layout ---
  @media (min-width: 500px) { // sm breakpoint
    grid-template-columns: auto 1fr;
    text-align: left;
  }

  .testimonial-card__image {
    margin-inline: auto;

    img, picture {
      width: var(--testimonial-image-size);
      height: var(--testimonial-image-size);
      border-radius: var(--testimonial-image-border-radius);
      object-fit: cover;
    }

    @media (min-width: 500px) { // sm breakpoint
      margin-inline: 0;
    }
  }

  .testimonial-card__content {
    display: grid;
    gap: var(--testimonial-content-gap);
    align-content: start;
  }

  .testimonial-card__rating {
    font-size: var(--star-size);
    font-family: Times, serif;
    line-height: 1;

    margin-inline: auto;
    @media (min-width: 500px) { // sm breakpoint
      margin-inline: 0;
    }

    &::before {
      content: '★★★★★';
      letter-spacing: var(--star-letter-spacing);
      background: linear-gradient(90deg, var(--star-active-color) calc(var(--rating) / 5 * 100%), var(--star-inactive-color) calc(var(--rating) / 5 * 100%));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  }

  .testimonial-card__quote {
    font-size: var(--testimonial-quote-font-size);
    font-style: italic;
    border: 0;
    padding: 0;
    margin: 0;

    p { margin: 0; }
  }

  .testimonial-card__footer {
    font-size: var(--testimonial-footer-font-size);
  }

  .testimonial-card__author-name {
    // Styles handled by `heading` component.
  }

  .testimonial-card__author-title {
    color: var(--testimonial-author-title-color);
  }

  .testimonial-card__date {
    display: block;
    margin-top: var(--testimonial-date-margin-top);
    font-size: var(--testimonial-date-font-size);
    color: var(--testimonial-date-color);
  }
}

// --- Dark Mode Overrides ---
html[data-theme="dark"] [data-component-id='kingly_minimal:testimonial'] {
  --testimonial-bg-color: #121212;
  --testimonial-border-color: #333333;
  --testimonial-author-title-color: rgba(225, 225, 225, 0.7);
  --testimonial-date-color: rgba(225, 225, 225, 0.6);
  --star-inactive-color: #333333;
}
