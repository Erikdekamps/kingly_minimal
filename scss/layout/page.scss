// file: scss/layout/page.scss
// This file is compiled by Vite and defines the main page grid structure.
@use '../base/reset';

// -----------------------------------------------------------------------------
// Main Page Layout
// -----------------------------------------------------------------------------
.layout-container {
  // --- Tier 3: Component-Scoped Design Tokens ---
  --page-container-padding: 1rem;
  --page-container-max-width: 1280px;
  --page-main-content-gap: 1rem;
  --page-main-content-gap-md: 2rem;
  --page-main-content-padding-y: 2rem;

  // --- Local Layout Variables (Not for theming) ---
  --_grid-column-count: 12;

  display: grid;
  grid-template-rows: auto 1fr auto;
  grid-template-columns: minmax(var(--page-container-padding), 1fr) minmax(0, var(--page-container-max-width)) minmax(var(--page-container-padding), 1fr);
  min-height: 100vh;
  min-height: 100dvh;
}

// --- Grid Placement ---
.page-header-wrapper,
.page-footer {
  grid-column: 1 / -1;
}

.main-content {
  grid-column: 2;
  min-width: 0;
}

// --- Subgrid for Header Wrapper ---
.page-header-wrapper {
  display: grid;
  grid-template-columns: subgrid;
}

.page-header-wrapper > .page-header {
  grid-column: 2;
  min-width: 0;
}

.page-header-wrapper > .region-breadcrumbs {
  grid-column: 1 / -1;
}

// --- Styles for Main Content Grid ---
.main-content {
  display: grid;
  grid-template-columns: repeat(var(--_grid-column-count), 1fr);
  gap: var(--page-main-content-gap);
  padding-block: var(--page-main-content-padding-y);
  align-content: start;

  > * {
    grid-column: 1 / -1;
  }
}

// -----------------------------------------------------------------------------
// Admin Toolbar Integration
// -----------------------------------------------------------------------------
body.gin--horizontal-toolbar .layout-container {
  min-height: calc(100vh - var(--gin-toolbar-height, 0px) - var(--gin-toolbar-secondary-height, 0px));
  min-height: calc(100dvh - var(--gin-toolbar-height, 0px) - var(--gin-toolbar-secondary-height, 0px));
}

// -----------------------------------------------------------------------------
// Responsive Adjustments
// -----------------------------------------------------------------------------
@media (min-width: 768px) { // md breakpoint
  .main-content {
    gap: var(--page-main-content-gap-md);
  }
}

// --- Dark Mode Overrides for Layout File ---
// No dark mode variables are needed for the page layout itself.
