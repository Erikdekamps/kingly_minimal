// kingly_minimal/scss/layout/page.scss

// This is an entry point file. It will be compiled by Vite.

// This includes the reset styles in our compiled CSS.
@use '../base/reset';
// Import the new breadcrumb strip styles.
@use 'breadcrumb-strip';

// -----------------------------------------------------------------------------
// Main Page Layout
// -----------------------------------------------------------------------------

.layout-container {
  display: grid;
  // This now defines a FOUR-row grid: header, breadcrumbs, main, footer.
  // The 'main' content area (1fr) takes up all remaining vertical space.
  grid-template-rows: auto auto 1fr auto;
  min-height: 100vh;
  // The outer columns are now just gutters. The main content column will have
  // its own internal padding.
  grid-template-columns: 1fr minmax(0, var(--container-max-width)) 1fr;
  gap: var(--spacing-md);
}

// All direct children of the layout container are placed in the center column.
.layout-container > * {
  grid-column: 2;
  min-width: 0;
}

// We specifically override the footer and the breadcrumb strip to make them
// span all columns for full-bleed backgrounds.
.page-footer,
.breadcrumb-strip {
  grid-column: 1 / -1;
}

// Apply consistent inline padding to the main page sections that are constrained.
.page-header,
.main-content {
  padding-inline: var(--container-padding);
}

// Styles for the main content wrapper.
.main-content {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: var(--spacing-md);
  align-content: start;

  // By default, direct children of the main content grid (our regions)
  // should span all 12 columns.
  > * {
    grid-column: 1 / -1;
  }
}

// -----------------------------------------------------------------------------
// Admin Toolbar Integration
// -----------------------------------------------------------------------------

body.gin--horizontal-toolbar .layout-container {
  min-height: calc(100vh - var(--gin-toolbar-height, 0px) - var(--gin-toolbar-secondary-height, 0px));
}

// -----------------------------------------------------------------------------
// Base Typography & Page Title
// -----------------------------------------------------------------------------

.page-title {
  font-family: var(--font-family-heading);
  line-height: var(--line-height-heading);
  font-size: 2rem;
  margin-bottom: 0;
}

// -----------------------------------------------------------------------------
// Responsive Adjustments
// -----------------------------------------------------------------------------

@media (min-width: 768px) { // md breakpoint
  :root {
    --container-padding: var(--spacing-lg); // e.g., 32px
  }

  .layout-container {
    gap: var(--spacing-lg);
    grid-template-columns: minmax(var(--spacing-lg), 1fr) minmax(0, var(--container-max-width)) minmax(var(--spacing-lg), 1fr);
  }

  .main-content {
    gap: var(--spacing-lg);
  }

  .page-title {
    font-size: 2.5rem;
  }
}
