{#
/**
 * @file
 * Theme override for a checkboxes form element.
 *
 * This template demonstrates nested composition of SDCs. It embeds the main
 * `form-element` SDC to get the standard label and wrapper. Inside that, it
 * embeds the `checkboxes` SDC to provide a grid layout for the children.
 *
 * @see kingly_minimal/components/form-element/form-element.twig
 * @see kingly_minimal/components/checkboxes/checkboxes.twig
 */
#}
{%
  set classes = [
  'js-form-item',
  'form-item-' ~ name|clean_class,
  'js-form-type-' ~ type|clean_class,
  'js-form-item-' ~ name|clean_class,
  title_attributes.id ? 'form-item--id-' ~ title_attributes.id,
  label_display == 'invisible' ? 'form-item--label-invisible',
  disabled ? 'form-item--disabled',
  errors ? 'form-item--error',
]
%}

{# Embed the main form-element wrapper first. #}
{% embed 'kingly_minimal:form-element' with {
  label: label,
  label_display: label_display,
  errors: errors,
  attributes: attributes.addClass(classes),
} %}

  {# Inside the 'content' slot of the form-element... #}
  {% block content %}

    {# ...embed the checkboxes wrapper component. #}
    {% embed 'kingly_minimal:checkboxes' %}

      {# Inside the 'content' slot of the checkboxes wrapper... #}
      {% block content %}
        {# ...finally, render the actual checkbox items from Drupal. #}
        {{ children }}
      {% endblock %}

    {% endembed %}

  {% endblock %}

{% endembed %}
