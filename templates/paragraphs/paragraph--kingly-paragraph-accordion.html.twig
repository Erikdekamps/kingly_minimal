{#
/**
 * @file
 * Theme override for the Accordion container paragraph.
 *
 * This template now iterates over the referenced paragraph entities directly,
 * bypassing the default field template wrappers. This ensures the accordion-item
 * components are direct children of the accordion container, allowing the JS
 * behavior to function correctly.
 *
 * @see kingly_minimal/components/accordion/accordion.twig
 */
#}
{% embed 'kingly_minimal:accordion' with {
  attributes: attributes,
} %}

  {% block content %}
    {#
    CORRECTION: Loop through the paragraph entities directly.
    - `paragraph.field_accordion_items` gives us access to the field items.
    - We loop through them and render each `.entity` using the `include`
      pattern for paragraph templates. This bypasses `field.html.twig`.
    #}
    {% for item in paragraph.field_accordion_items %}
      {% include 'paragraph.html.twig' with {'paragraph': item.entity} %}
    {% endfor %}
  {% endblock %}

{% endembed %}
